<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>캘린더</title>
    <link rel="stylesheet" href="./style.css" />
</head>

<body>
    <header class="topbar">
        <div class="brand">캘린더</div>
        <div class="spacer"></div>
        <div class="theme-select custom">
            <button id="themeButton" class="theme-btn" aria-haspopup="listbox" aria-expanded="false"
                aria-controls="themeMenu">
                🎨 <span id="themeLabel">밝음</span>
            </button>
            <ul id="themeMenu" class="theme-menu" role="listbox" tabindex="-1">
                <li role="option" data-theme="light" aria-selected="true">밝음</li>
                <li role="option" data-theme="dark">다크</li>
                <li role="option" data-theme="neon">네온</li>
            </ul>
        </div>
    </header>

    <main class="layout">
        <section class="pane pane-left">
            <h2>새 일정</h2>
            <form id="eventForm">
                <div class="field">
                    <label for="title">제목</label>
                    <input id="title" name="title" type="text" required placeholder="예: 정기모임" />
                </div>
                <div class="grid-2">
                    <div class="field">
                        <label for="date">시작 날짜</label>
                        <input id="date" name="date" type="date" required />
                    </div>
                    <div class="field">
                        <label for="endDate">종료 날짜</label>
                        <input id="endDate" name="endDate" type="date" />
                    </div>
                </div>
                <div class="grid-2">
                    <div class="field">
                        <label for="start">시작</label>
                        <input id="start" name="start" type="time" required />
                    </div>
                    <div class="field">
                        <label for="end">종료</label>
                        <input id="end" name="end" type="time" required />
                    </div>
                </div>
                <div class="field">
                    <label for="location">장소</label>
                    <input id="location" name="location" type="text" placeholder="동방 301호" />
                </div>
                <div class="field">
                    <label for="notes">메모</label>
                    <textarea id="notes" name="notes" rows="3" placeholder="간식 가져오기, 회비 등"></textarea>
                </div>
                <div class="actions">
                    <button id="createEventBtn" class="btn primary" type="submit">추가</button>
                    <button id="resetFormBtn" class="btn" type="reset">초기화</button>
                </div>
            </form>

            <hr />
            <div class="export-import">
                <h3>.ics 내보내기 / 가져오기</h3>
                <div class="actions">
                    <button id="downloadIcsBtn" class="btn">모든 일정 .ics 다운로드</button>
                    <label class="btn ghost file-label">
                        .ics 가져오기
                        <input id="importIcsInput" type="file" accept="text/calendar,.ics" hidden />
                    </label>
                </div>
                <p class="tip">구글/애플 캘린더에서 내보낸 .ics를 그대로 가져올 수 있어요.</p>
            </div>
        </section>

        <section class="pane pane-right">
            <div class="calendar-head">
                <button id="prevMonth" class="btn ghost" aria-label="이전 달">◀</button>
                <h2><span id="calYear"></span>년 <span id="calMonth"></span>월</h2>
                <button id="nextMonth" class="btn ghost" aria-label="다음 달">▶</button>
            </div>
            <div class="calendar" id="calendar" aria-label="월간 캘린더"></div>

            <div class="day-view">
                <h3><span id="dayLabel">날짜 선택</span> 일정</h3>
                <ul id="eventList" class="event-list" aria-live="polite"></ul>
            </div>
        </section>
    </main>

    <template id="eventItemTpl">
        <li class="event-item">
            <div class="event-time"></div>
            <div class="event-main">
                <div class="event-title"></div>
                <div class="event-sub"></div>
            </div>
            <div class="event-actions">
                <button class="btn ghost small edit">수정</button>
                <button class="btn ghost small delete">삭제</button>
            </div>
        </li>
    </template>

    <script src="./main.js"></script>
</body>

</html>